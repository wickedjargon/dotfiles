#
# SXHKD Configuration
#

# ========== WINDOW MANAGEMENT ==========

# Close/kill window
super + p
    bspc node -c

# Toggle fullscreen
super + f
    bspc node -t ~fullscreen

# Toggle floating
super + shift + f
    bspc node -t ~floating

# Toggle sticky
super + shift + s
    bspc node -g sticky

# Focus next/previous window
super + {j,k}
    bspc node -f {next,prev}.local.!hidden.window

# Swap with next/previous window
super + shift + {j,k}
    bspc node -s {next,prev}.local.!hidden.window

# ========== LAYOUT MANAGEMENT ==========

# Set tiled layout (tiled mode)
super + t
    bspc desktop -l tiled

# Monocle mode (grand mode)
super + g
    bspc desktop -l monocle

# Deck Layout (regional mode)
super + r
    bspwm-deck

# Preselect split direction
super + {Left,Down,Up,Right}
    bspwm-smart-arrow {west,south,north,east}

# Cancel preselection (and restore state if smart-arrow was used)
super + shift + {Left,Down,Up,Right}
    bspwm-smart-cancel

# Resize window / move gap left (h) and right (l)
super + shift + h
    bspc node -z right -20 0 || bspc node -z left -20 0

super + shift + l
    bspc node -z right 20 0 || bspc node -z left 20 0



# ========== WORKSPACE SWITCHING ==========

# Switch to workspace
super + {1-6}
    bspc desktop -f '^{1-6}'

# Move window to workspace
super + shift + {1-6}
    bspc node -d '^{1-6}'

# Move to previous workspace (no wrap)
super + h
    curr=$(bspc query -D -d focused); first=$(bspc query -D -d .local | head -n1); [ "$curr" != "$first" ] && bspc desktop -f prev.local

# Move to next workspace (no wrap)
super + l
    curr=$(bspc query -D -d focused); last=$(bspc query -D -d .local | tail -n1); [ "$curr" != "$last" ] && bspc desktop -f next.local

# ========== APPLICATION LAUNCHERS ==========

# Terminal
super + Return
    alacritty

# Dmenu run
super + d
    dmenu_run

# App finder
super + space
    xfce4-appfinder

# Emacs
super + m
    emacsclient -c

# Browser
super + w
    dmenu-browser

# Commands menu
super + b
    dmenu-commands

# System menu
super + BackSpace
    dmenu-system

# Clipmenu
super + c
    clipmenu

# WiFi menu
super + i
    dmenu-wifi-menu

# Night/day mode
super + n
    dmenu-night-and-day

# ========== VOLUME CONTROLS ==========

# Volume up
super + equal
    pactl set-sink-volume @DEFAULT_SINK@ +5%

XF86AudioRaiseVolume
    pactl set-sink-volume @DEFAULT_SINK@ +5%

# Volume down
super + minus
    pactl set-sink-volume @DEFAULT_SINK@ -5%

XF86AudioLowerVolume
    pactl set-sink-volume @DEFAULT_SINK@ -5%

# Mute toggle
super + 0
    pactl set-sink-mute @DEFAULT_SINK@ toggle

XF86AudioMute
    pactl set-sink-mute @DEFAULT_SINK@ toggle

# ========== BRIGHTNESS CONTROLS ==========

# Brightness up
XF86MonBrightnessUp
    brightnessctl set +5%

# Brightness down
XF86MonBrightnessDown
    brightnessctl set 5%-

# ========== MEDIA CONTROLS ==========

XF86AudioPlay
    mpc play

XF86AudioPause
    mpc pause

XF86AudioStop
    mpc stop

XF86AudioNext
    mpc next

XF86AudioPrev
    mpc prev
